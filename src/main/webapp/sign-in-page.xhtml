<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">


<f:view>
        <ui:composition template="resources/Templates/page_template.xhtml">
            <ui:param name="pageTitle" value="Sign In"/>

            <ui:define name="panel-main">
                <h:outputLink value="index.xhtml">Back to Home Page</h:outputLink>
                <ui:fragment rendered="#{not userManagerBean.signedIn}">
                    <section>
                        <h:form id="signInForm">
                            <p:message id="signInMsg" for="signInBtn" styleClass="error"/>
                            <h:panelGrid columns="2" styleClass="form-grid" columnClasses="form-column-label,form-column-input">
                                <p:outputLabel for="email">Username</p:outputLabel>
                                <p:inputText id="email" value="#{signInBean.email}">
                                    <f:ajax execute="@this"/>
                                </p:inputText>
                                <p:outputLabel for="password" value="Password"/>
                                <p:password id="password" value="#{signInBean.password}">
                                    <f:ajax execute="@this"/>
                                </p:password>

                                <p:commandButton id="signInBtn" value="sign in" action="#{signInBean.submit}"
                                                 update="signInMsg" ajax="false"/>
                            </h:panelGrid>
                        </h:form>
                    </section>
                </ui:fragment>
            </ui:define>

        </ui:composition>
    </f:view>
</html>
